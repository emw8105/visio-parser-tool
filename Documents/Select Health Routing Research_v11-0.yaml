inboundCall:
  name: Select Health Routing Research
  division: Home
  startUpRef: "/inboundCall/tasks/task[New Task 1_13]"
  defaultLanguage: en-us
  supportedLanguages:
    en-us:
      defaultLanguageSkill:
        noValue: true
      textToSpeech:
        defaultEngine:
          voice: Jill
  initialGreeting:
    tts: Hello, this is the initial greeting.
  variables:
    - stringVariable:
        name: Flow.QueueName
        initialValue:
          noValue: true
  settingsActionDefaults:
    playAudioOnSilence:
      timeout:
        lit:
          seconds: 40
    detectSilence:
      timeout:
        lit:
          seconds: 40
    callData:
      processingPrompt:
        noValue: true
    collectInput:
      noEntryTimeout:
        lit:
          seconds: 5
    dialByExtension:
      interDigitTimeout:
        lit:
          seconds: 6
    transferToUser:
      connectTimeout:
        noValue: true
    transferToNumber:
      connectTimeout:
        noValue: true
    transferToGroup:
      connectTimeout:
        noValue: true
    transferToFlowSecure:
      connectTimeout:
        lit:
          seconds: 15
  settingsErrorHandling:
    errorHandling:
      disconnect:
        none: true
    preHandlingAudio:
      tts: Sorry, an error occurred. Please try your call again.
  settingsMenu:
    extensionDialingMaxDelay:
      lit:
        seconds: 1
    listenForExtensionDialing:
      lit: true
    menuSelectionTimeout:
      lit:
        seconds: 10
    repeatCount:
      lit: 3
  settingsPrompts:
    ensureAudioInPrompts: false
    promptMediaToValidate:
      - mediaType: audio
      - mediaType: tts
  settingsSpeechRec:
    completeMatchTimeout:
      lit:
        ms: 100
    incompleteMatchTimeout:
      lit:
        ms: 1500
    maxSpeechLengthTimeout:
      lit:
        seconds: 20
    minConfidenceLevel:
      lit: 50
    asrCompanyDir: none
    asrEnabledOnFlow: true
    suppressRecording: false
  menus:
    - menu:
        name: Main Menu
        refId: Main Menu_10
        audio:
          tts: You are at the Main Menu, press 9 to disconnect
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuDisconnect:
              name: Disconnect
              dtmf: digit_9
              globalDtmf: false
              globalSpeechRecTerms: false
  tasks:
    - task:
        name: New Task 1
        refId: New Task 1_13
        variables:
          - stringVariable:
              name: Task.description
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - booleanVariable:
              name: Task.medicareRoute
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.memberid
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.PrimarySkillDT
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.producttype
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - updateData:
              name: Update Data
              statements:
                - string:
                    variable: Flow.QueueName
                    value:
                      lit: Select_Health_Queue
          - dataTableLookup:
              name: Data Table Lookup
              lookupValue:
                exp: Flow.QueueName
              dataTable:
                Select Health InQueue Datatable V3:
                  foundOutputs:
                    Queue Primary Skill:
                      var: Task.PrimarySkillDT
                    Queue Secondary Skill:
                      noValue: true
                    Secondary Threshold (Minutes):
                      noValue: true
                    Queue Tertiary Skill:
                      noValue: true
                    Tertiary Threshold (Minutes):
                      noValue: true
                    Hold_music:
                      noValue: true
                    Callback Flag:
                      noValue: true
                    Callback Threshold (Minutes):
                      noValue: true
                    Callback Interval (Minutes):
                      noValue: true
                    Callback Offer:
                      noValue: true
                    Callback Number:
                      noValue: true
                    Callback Confirm:
                      noValue: true
                    Voicemail Flag:
                      noValue: true
                    Voicemail Threshold (Minutes):
                      noValue: true
                    Voicemail Interval (Minutes):
                      noValue: true
                    Voicemail Offer:
                      noValue: true
                    Voicemail Prompt:
                      noValue: true
                    Priority:
                      noValue: true
                    EWT Min (Minutes):
                      noValue: true
                    EWT Max (Minutes):
                      noValue: true
                    EWT Interval 1 (Minutes):
                      noValue: true
                    EWT Interval 2 (Minutes):
                      noValue: true
                    EWT Prompt Interval (Minutes):
                      noValue: true
                    EWT Prompt1:
                      noValue: true
                    EWT Prompt2:
                      noValue: true
                    Announcements Flag:
                      noValue: true
                    Announcements:
                      noValue: true
                    Announcements Interval (Minutes):
                      noValue: true
                  failureOutputs:
                    errorType:
                      noValue: true
                    errorMessage:
                      noValue: true
          - callData:
              name: Call Data Action
              processingPrompt:
                noValue: true
              timeout:
                lit:
                  minutes: 1
              category:
                James' External API:
                  dataAction:
                    ANI API:
                      inputs:
                        ANI:
                          lit: "8019533218"
                        DNIS:
                          lit: "8014425038"
                      successOutputs:
                        member_ID:
                          var: Task.memberid
                        product_Type:
                          var: Task.producttype
                        description:
                          var: Task.description
                        is_Medicare_Route:
                          var: Task.medicareRoute
              outputs:
                success:
                  actions:
                    - playAudio:
                        name: Play Audio
                        audio:
                          tts: API Successful
                failure:
                  actions:
                    - playAudio:
                        name: Play Audio
                        audio:
                          tts: API Failure
                timeout:
                  actions:
                    - playAudio:
                        name: Play Audio
                        audio:
                          tts: API TImeout
          - setScreenPop:
              name: Set Screen Pop
              screenPopScript:
                High Priority Billing Script:
                  inputs:
                    ConversationID:
                      lit: ""
                    InteractionSkills:
                      lit: Unavailable
                    InteractionLanguage:
                      lit: Unavailable
                    Priority:
                      lit: ""
                    DNIS:
                      lit: Unavailable
                    Member ID:
                      exp: Task.memberid
                    Product Type:
                      exp: Task.producttype
                    Medicare:
                      exp: Task.medicareRoute
                    Caller Intent:
                      lit: Undefined
                    IVR Response Code:
                      lit: Unavailable
                    IVR Response Message:
                      lit: Unavailable
                    Account Balance:
                      lit: Unavailable
                    Max CC:
                      lit: "False"
                    Receipt Number:
                      lit: Unavailable
                    BL Response Code:
                      lit: Unavailable
                    BL Response Message:
                      lit: Unavailable
                    Self Serve IVR Skipped:
                      lit: true
                    Customer Number:
                      lit: ""
          - transferToAcd:
              name: Transfer to ACD
              targetQueue:
                exp: FindQueue(Flow.QueueName)
              acdSkills:
                - acdSkill:
                    exp: FindSkill(Task.PrimarySkillDT)
              overrideInQueueFlow:
                name: Select Health In-queue flow
              priority:
                lit: 0
              preferredAgents:
                noValue: true
              languageSkill:
                lit:
                  name: English
              failureOutputs:
                errorType:
                  noValue: true
                errorMessage:
                  noValue: true
              outputs:
                failure:
                  actions:
                    - disconnect:
                        name: Disconnect
